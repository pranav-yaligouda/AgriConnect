import{j as e,r as n,m as Ze,a8 as ze,i as Ke,k as ne,C as Qe,T as u,B as d,P as $e,G as v,h as Y,I as xt,F as pe,v as fe,x as ce,w as ge,M as B,a9 as be,a3 as ht,X as I,a7 as pt,s as Ce,f as C,Z as ft,_ as gt,$ as bt,y as jt,aa as yt,ab as vt,l as Xe,a0 as de,ac as St,ad as Ct,z as Ve,a4 as wt,a5 as we,N as Dt,O as It,W as kt,U as ie,V as P,D as De,E as Ie,H as ke,K as Pe}from"./vendor-BfjQx7as.js";import{f as Pt,a as Rt,c as He,b as Ft,d as zt,e as $t}from"./dashboard-D54Ge2h1.js";import{i as et,u as tt,S as Wt,b as Tt,C as Ot,L as ye,G as je,F as Qt,c as qt,d as At,A as Et,e as Bt,I as Lt,f as _t,y as J,g as Mt}from"./auth-p7_ywuS4.js";const Nt=({fallbackSrc:t="/product-placeholder.jpg",...r})=>{const i=c=>{c.currentTarget.onerror=null,c.currentTarget.src=t};return e.jsx("img",{...r,onError:i})},rt=n.createContext(void 0),qr=({children:t})=>{const[r,i]=n.useState(null),[c,s]=n.useState(null),[o,x]=n.useState(!0);n.useEffect(()=>{const f=localStorage.getItem("token");f&&s(f),x(!1)},[]);const p=async(f,b)=>{x(!0);const l=await et.post("/auth/login",{email:f,password:b});s(l.data.token),i(l.data.user),localStorage.setItem("token",l.data.token),x(!1)},m=()=>{s(null),i(null),localStorage.removeItem("token")};return e.jsx(rt.Provider,{value:{user:r,token:c,login:p,logout:m,loading:o},children:t})},Ut=()=>{const t=n.useContext(rt);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Vt={py:4},Ht={height:"100%",display:"flex",flexDirection:"column",borderRadius:2,overflow:"hidden",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:6}},Gt={borderRadius:2,p:2},Yt=2,Ge={ellipsis:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"}},Ar={textField:{"& .MuiOutlinedInput-root":{borderRadius:2}}};let Jt={data:""},Zt=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Jt,Kt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Xt=/\/\*[^]*?\*\/|  +/g,Ye=/\n+/g,Z=(t,r)=>{let i="",c="",s="";for(let o in t){let x=t[o];o[0]=="@"?o[1]=="i"?i=o+" "+x+";":c+=o[1]=="f"?Z(x,o):o+"{"+Z(x,o[1]=="k"?"":r)+"}":typeof x=="object"?c+=Z(x,r?r.replace(/([^,])+/g,p=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,p):p?p+" "+m:m)):o):x!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Z.p?Z.p(o,x):o+":"+x+";")}return i+(r&&s?r+"{"+s+"}":s)+c},L={},st=t=>{if(typeof t=="object"){let r="";for(let i in t)r+=i+st(t[i]);return r}return t},er=(t,r,i,c,s)=>{let o=st(t),x=L[o]||(L[o]=(m=>{let f=0,b=11;for(;f<m.length;)b=101*b+m.charCodeAt(f++)>>>0;return"go"+b})(o));if(!L[x]){let m=o!==t?t:(f=>{let b,l,$=[{}];for(;b=Kt.exec(f.replace(Xt,""));)b[4]?$.shift():b[3]?(l=b[3].replace(Ye," ").trim(),$.unshift($[0][l]=$[0][l]||{})):$[0][b[1]]=b[2].replace(Ye," ").trim();return $[0]})(t);L[x]=Z(s?{["@keyframes "+x]:m}:m,i?"":"."+x)}let p=i&&L.g?L.g:null;return i&&(L.g=L[x]),((m,f,b,l)=>{l?f.data=f.data.replace(l,m):f.data.indexOf(m)===-1&&(f.data=b?m+f.data:f.data+m)})(L[x],r,c,p),x},tr=(t,r,i)=>t.reduce((c,s,o)=>{let x=r[o];if(x&&x.call){let p=x(i),m=p&&p.props&&p.props.className||/^go/.test(p)&&p;x=m?"."+m:p&&typeof p=="object"?p.props?"":Z(p,""):p===!1?"":p}return c+s+(x??"")},"");function ve(t){let r=this||{},i=t.call?t(r.p):t;return er(i.unshift?i.raw?tr(i,[].slice.call(arguments,1),r.p):i.reduce((c,s)=>Object.assign(c,s&&s.call?s(r.p):s),{}):i,Zt(r.target),r.g,r.o,r.k)}let at,We,Te;ve.bind({g:1});let _=ve.bind({k:1});function rr(t,r,i,c){Z.p=r,at=t,We=i,Te=c}function K(t,r){let i=this||{};return function(){let c=arguments;function s(o,x){let p=Object.assign({},o),m=p.className||s.className;i.p=Object.assign({theme:We&&We()},p),i.o=/ *go\d+/.test(m),p.className=ve.apply(i,c)+(m?" "+m:"");let f=t;return t[0]&&(f=p.as||t,delete p.as),Te&&f[0]&&Te(p),at(f,p)}return s}}var sr=t=>typeof t=="function",Oe=(t,r)=>sr(t)?t(r):t,ar=(()=>{let t=0;return()=>(++t).toString()})(),ir=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");t=!r||r.matches}return t}})(),nr=20,it=(t,r)=>{switch(r.type){case 0:return{...t,toasts:[r.toast,...t.toasts].slice(0,nr)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===r.toast.id?{...o,...r.toast}:o)};case 2:let{toast:i}=r;return it(t,{type:t.toasts.find(o=>o.id===i.id)?1:0,toast:i});case 3:let{toastId:c}=r;return{...t,toasts:t.toasts.map(o=>o.id===c||c===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==r.toastId)};case 5:return{...t,pausedAt:r.time};case 6:let s=r.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},or=[],Re={toasts:[],pausedAt:void 0},qe=t=>{Re=it(Re,t),or.forEach(r=>{r(Re)})},lr=(t,r="blank",i)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...i,id:(i==null?void 0:i.id)||ar()}),ue=t=>(r,i)=>{let c=lr(r,t,i);return qe({type:2,toast:c}),c.id},D=(t,r)=>ue("blank")(t,r);D.error=ue("error");D.success=ue("success");D.loading=ue("loading");D.custom=ue("custom");D.dismiss=t=>{qe({type:3,toastId:t})};D.remove=t=>qe({type:4,toastId:t});D.promise=(t,r,i)=>{let c=D.loading(r.loading,{...i,...i==null?void 0:i.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=r.success?Oe(r.success,s):void 0;return o?D.success(o,{id:c,...i,...i==null?void 0:i.success}):D.dismiss(c),s}).catch(s=>{let o=r.error?Oe(r.error,s):void 0;o?D.error(o,{id:c,...i,...i==null?void 0:i.error}):D.dismiss(c)}),t};var cr=_`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dr=_`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ur=_`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mr=K("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dr} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ur} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,xr=_`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hr=K("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${xr} 1s linear infinite;
`,pr=_`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,fr=_`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gr=K("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pr} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${fr} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,br=K("div")`
  position: absolute;
`,jr=K("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yr=_`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vr=K("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yr} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Sr=({toast:t})=>{let{icon:r,type:i,iconTheme:c}=t;return r!==void 0?typeof r=="string"?n.createElement(vr,null,r):r:i==="blank"?null:n.createElement(jr,null,n.createElement(hr,{...c}),i!=="loading"&&n.createElement(br,null,i==="error"?n.createElement(mr,{...c}):n.createElement(gr,{...c})))},Cr=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wr=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Dr="0%{opacity:0;} 100%{opacity:1;}",Ir="0%{opacity:1;} 100%{opacity:0;}",kr=K("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Pr=K("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Rr=(t,r)=>{let i=t.includes("top")?1:-1,[c,s]=ir()?[Dr,Ir]:[Cr(i),wr(i)];return{animation:r?`${_(c)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};n.memo(({toast:t,position:r,style:i,children:c})=>{let s=t.height?Rr(t.position||r||"top-center",t.visible):{opacity:0},o=n.createElement(Sr,{toast:t}),x=n.createElement(Pr,{...t.ariaProps},Oe(t.message,t));return n.createElement(kr,{className:t.className,style:{...s,...i,...t.style}},typeof c=="function"?c({icon:o,message:x}):n.createElement(n.Fragment,null,o,x))});rr(n.createElement);ve`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const Fr=()=>{const t=Ze(),r=ze(t.breakpoints.down("sm")),i=ze(t.breakpoints.down("md"));Ke();const[c,s]=n.useState(""),[o,x]=n.useState([]),[p,m]=n.useState(c),[f,b]=n.useState([]),{t:l}=tt("marketplace"),[$,oe]=n.useState(!1),[R,M]=n.useState(""),[re,me]=n.useState("featured"),[k,W]=n.useState([]),[S,F]=n.useState(!1),[h,w]=n.useState(1),[z,se]=n.useState(1),[N,ae]=n.useState(0),Q=i?6:12,[q,U]=n.useState(!0),[T,V]=n.useState(null);n.useEffect(()=>{(async()=>{try{U(!0),V(null);const g={search:p,category:k.includes("all")?void 0:k.join(","),district:R,...S&&{isOrganic:!0},sort:re,page:h,limit:Q},{products:te,total:E,pageCount:Se}=await Rt(g);x(Array.isArray(te)?te:[]),ae(E),se(Se)}catch(g){let te=l?l("fetchError"):"Failed to fetch products";console.error("fetchProducts error:",g),V(te),x([]),D.error(te)}finally{U(!1)}})()},[p,k,S,re,R,h,Q]),n.useEffect(()=>{Pt().then(a=>{Array.isArray(a)&&b(["all",...a.filter(g=>g!=="all")])}).catch(a=>{console.error("Failed to load categories:",a),D.error("Failed to load categories"),b(["all"])})},[]),n.useEffect(()=>{const a=setTimeout(()=>{m(c)},500);return()=>{clearTimeout(a)}},[c]);const H=Array.from(new Set((o||[]).map(a=>{var g;return(g=a.location)==null?void 0:g.district}).filter(a=>a!==void 0))).sort(),X=a=>{W(g=>a==="all"?["all"]:g.includes(a)?g.filter(E=>E!==a):[...g.filter(E=>E!=="all"),a])},O=a=>{oe(a)},ee=a=>{s(a.target.value)},G=a=>{me(a.target.value)},y=a=>a.charAt(0).toUpperCase()+a.slice(1);if(q)return e.jsx(ne,{maxWidth:"lg",sx:{py:4,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:e.jsx(Qe,{size:60})});if(T)return e.jsx(ne,{maxWidth:"lg",sx:{py:4,textAlign:"center"},children:e.jsx(u,{variant:"h5",color:"error",children:T})});const A=e.jsx(d,{sx:{display:{xs:"none",md:"block"},width:"100%",mb:2},children:e.jsx($e,{sx:{...Gt,mb:2,p:2,borderRadius:4,boxShadow:"0 8px 16px rgba(0,0,0,0.08)"},children:e.jsxs(v,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(v,{item:!0,xs:12,md:4,children:e.jsx(Y,{fullWidth:!0,placeholder:l("searchPlaceholder"),variant:"outlined",size:"medium",value:c,onChange:ee,InputProps:{startAdornment:e.jsx(xt,{position:"start",children:e.jsx(Wt,{color:"primary"})}),sx:{borderRadius:3,bgcolor:"background.paper","&:hover":{bgcolor:"grey.50"}}}})}),e.jsx(v,{item:!0,xs:12,md:2,children:e.jsxs(pe,{fullWidth:!0,size:"medium",children:[e.jsx(fe,{children:e.jsxs(ce,{direction:"row",alignItems:"center",gap:.5,children:[e.jsx(Tt,{fontSize:"small"})," ",l("sortBy")]})}),e.jsxs(ge,{value:re,label:l("sortBy"),onChange:G,sx:{borderRadius:3,bgcolor:"background.paper","&:hover":{bgcolor:"grey.50"}},children:[e.jsx(B,{value:"featured",children:l("featured")}),e.jsx(B,{value:"price-asc",children:l("priceLowToHigh")}),e.jsx(B,{value:"price-desc",children:l("priceHighToLow")}),e.jsx(B,{value:"newest",children:l("newest")})]})]})}),e.jsx(v,{item:!0,xs:12,md:3,children:e.jsxs(pe,{fullWidth:!0,size:"medium",children:[e.jsx(fe,{children:e.jsxs(ce,{direction:"row",alignItems:"center",gap:.5,children:[e.jsx(Ot,{fontSize:"small"})," ",l("category")]})}),e.jsx(ge,{multiple:!0,value:k,onChange:a=>W(a.target.value),label:l("category"),renderValue:a=>e.jsx(d,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:a.map(g=>e.jsx(I,{label:y(g),size:"small",sx:{borderRadius:2}},g))}),sx:{borderRadius:3,bgcolor:"background.paper","&:hover":{bgcolor:"grey.50"}},children:(f||[]).map(a=>e.jsxs(B,{value:a,children:[e.jsx(be,{checked:k.includes(a)}),e.jsx(ht,{primary:y(a)})]},a))})]})}),e.jsx(v,{item:!0,xs:12,md:2,children:e.jsxs(pe,{fullWidth:!0,size:"medium",children:[e.jsx(fe,{children:e.jsxs(ce,{direction:"row",alignItems:"center",gap:.5,children:[e.jsx(ye,{fontSize:"small"})," ",l("district")]})}),e.jsxs(ge,{value:R,label:l("district"),onChange:a=>M(a.target.value),sx:{borderRadius:3,bgcolor:"background.paper","&:hover":{bgcolor:"grey.50"}},children:[e.jsx(B,{value:"",children:e.jsx("em",{children:l("allDistricts")})}),(H||[]).map(a=>e.jsx(B,{value:a,children:y(a)},a))]})]})}),e.jsx(v,{item:!0,xs:12,md:1,children:e.jsx(pt,{title:l("showOnlyOrganic"),children:e.jsx(Ce,{control:e.jsx(be,{checked:S,onChange:a=>F(a.target.checked),color:"primary",icon:e.jsx(je,{}),checkedIcon:e.jsx(je,{})}),label:"",sx:{m:0,"& .MuiButtonBase-root":{p:1},"&:hover":{bgcolor:"grey.50",borderRadius:2}}})})})]})})});return e.jsxs(ne,{maxWidth:"xl",sx:{...Vt},children:[e.jsxs(d,{sx:{mb:3,textAlign:"center"},children:[e.jsx(u,{variant:"h3",component:"h1",gutterBottom:!0,fontWeight:"bold",children:l("hero.title")}),e.jsx(u,{variant:"h6",color:"text.secondary",sx:{maxWidth:800,mx:"auto"},children:l("hero.tagline")}),e.jsxs(ce,{direction:"row",justifyContent:"center",spacing:2,sx:{mt:2,mb:1},children:[e.jsx(I,{label:l("hero.chip1"),color:"primary",variant:"outlined"}),e.jsx(I,{label:l("hero.chip2"),color:"primary",variant:"outlined"}),e.jsx(I,{label:l("hero.chip3"),color:"primary",variant:"outlined"})]})]}),r&&e.jsx(d,{sx:{mb:2,px:2},children:e.jsx(C,{variant:"outlined",fullWidth:!0,startIcon:e.jsx(Qt,{}),onClick:()=>O(!0),sx:{py:1.5,borderRadius:2,fontSize:"1rem"},children:l("filterProducts")})}),A,e.jsx(v,{container:!0,spacing:Yt,children:e.jsxs(v,{item:!0,xs:12,children:[e.jsxs(d,{sx:{mb:2},children:[e.jsx(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:e.jsxs(u,{variant:"body1",color:"text.secondary",fontWeight:"medium",children:[N," ",l("productsAvailable")]})}),((k||[]).length>0||S||c)&&e.jsxs(ce,{direction:"row",spacing:1,sx:{mt:1,flexWrap:"wrap",gap:1},children:[(k||[]).map(a=>e.jsx(I,{label:y(a),onDelete:()=>X(a),size:"medium",color:"primary",variant:"outlined",sx:{borderRadius:2}},a)),S&&e.jsx(I,{label:l("organic"),onDelete:()=>F(!1),size:"medium",color:"secondary",icon:e.jsx(je,{}),sx:{borderRadius:2}}),c&&e.jsx(I,{label:`"${c}"`,onDelete:()=>s(""),size:"medium",color:"default",sx:{borderRadius:2}}),R&&e.jsx(I,{label:`District: ${y(R)}`,onDelete:()=>M(""),size:"medium",color:"default",sx:{borderRadius:2}})]})]}),o&&o.length>0?e.jsx(v,{container:!0,spacing:2,children:(o||[]).map(a=>{var g;return e.jsx(v,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,children:e.jsxs(ft,{sx:{...Ht,height:"100%",display:"flex",flexDirection:"column",minHeight:"500px",position:"relative"},children:[e.jsxs(d,{sx:{position:"absolute",left:16,top:16,zIndex:1,display:"flex",gap:1},children:[a.isOrganic&&e.jsx(I,{label:l("organic"),size:"small",color:"secondary",icon:e.jsx(je,{}),sx:{fontWeight:"bold",borderRadius:"16px"}}),new Date(a.harvestDate)>new Date(Date.now()-3*24*60*60*1e3)&&e.jsx(I,{label:l("fresh"),size:"small",color:"success",sx:{fontWeight:"bold",borderRadius:"16px"}})]}),e.jsxs(d,{sx:{position:"relative",height:"200px",width:"100%"},children:[e.jsx(Nt,{src:a.images[0]||"/product-placeholder.jpg",fallbackSrc:"/product-placeholder.jpg",alt:a.name,style:{objectFit:"cover",height:"100%",width:"100%",borderRadius:2}}),e.jsx(d,{sx:{position:"absolute",bottom:0,left:0,right:0,height:"60px",background:"linear-gradient(to top, rgba(0,0,0,0.7), transparent)"}}),e.jsx(d,{sx:{position:"absolute",bottom:10,right:10},children:e.jsx(I,{label:`₹${a.price}/${a.unit}`,sx:{bgcolor:"primary.main",color:"white",fontWeight:"bold",fontSize:"0.9rem",borderRadius:"16px"}})})]}),e.jsxs(gt,{sx:{flexGrow:1,pt:2,pb:1,px:2},children:[e.jsx(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:e.jsx(u,{variant:"h6",component:"h3",sx:{fontWeight:"bold",fontSize:"1.1rem",lineHeight:1.2,...Ge.ellipsis,height:"24px"},children:a.name})}),e.jsx(u,{variant:"body2",color:"text.secondary",sx:{mb:1,...Ge.ellipsis,height:"40px"},children:a.description}),e.jsxs(d,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(qt,{fontSize:"small",color:"primary",sx:{mr:.5}}),e.jsx(u,{variant:"body2",sx:{fontWeight:"medium"},children:((g=a.farmer)==null?void 0:g.name)||l("unknownFarmer")})]}),e.jsxs(d,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(ye,{fontSize:"small",color:"action",sx:{mr:.5}}),e.jsx(u,{variant:"body2",color:"text.secondary",noWrap:!0,children:a.location?`${a.location.district}, ${a.location.state}`:l("locationNotSpecified")})]}),e.jsx(d,{sx:{mb:.5},children:e.jsx(u,{variant:"body2",color:a.availableQuantity>20?"success.main":a.availableQuantity>5?"warning.main":"error.main",children:a.availableQuantity>20?l("inStock"):a.availableQuantity>5?l("limitedStock"):l("almostSoldOut")})})]}),e.jsx(bt,{sx:{px:2,pb:2,pt:0,justifyContent:"space-between",gap:1},children:e.jsx(C,{component:jt,to:`/products/${a._id}`,variant:"contained",size:"small",sx:{borderRadius:"20px",fontWeight:"medium",width:"100%"},children:l("viewProductDetails")})})]})},a._id)})}):e.jsxs($e,{sx:{p:6,textAlign:"center",borderRadius:2},children:[e.jsx(u,{variant:"h5",gutterBottom:!0,children:l("noProductsFound")}),e.jsx(u,{variant:"body1",color:"text.secondary",paragraph:!0,children:l("tryAdjustingSearch")}),e.jsx(C,{variant:"contained",sx:{mt:2,borderRadius:2,py:1,px:3},onClick:()=>{W([]),F(!1),s(""),M("")},children:l("viewAllProducts")})]}),z>1&&e.jsx(d,{sx:{display:"flex",justifyContent:"center",mt:3,mb:1},children:e.jsx(yt,{count:z,page:h,onChange:(a,g)=>w(g),color:"primary",siblingCount:r?0:1,boundaryCount:0,shape:"rounded",size:r?"medium":"large"})})]})}),e.jsx(vt,{anchor:"left",open:$,onClose:()=>O(!1),sx:{"& .MuiDrawer-paper":{width:"85vw",maxWidth:320,boxSizing:"border-box","& .MuiFormControlLabel-root":{alignItems:"flex-start"}}},children:e.jsxs(d,{sx:{p:2,height:"100%",overflowY:"auto"},children:[e.jsxs(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(u,{variant:"h6",fontWeight:"bold",children:l("filters")}),e.jsx(Xe,{onClick:()=>O(!1),children:e.jsx(At,{})})]}),e.jsx(de,{sx:{mb:2}}),e.jsxs(d,{sx:{"& .MuiInputBase-root":{fontSize:"0.9rem"}},children:[e.jsx(u,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:l("categories")}),e.jsx(St,{sx:{mb:3},children:f.map(a=>e.jsx(Ce,{control:e.jsx(be,{checked:k.includes(a),onChange:()=>X(a),size:"small",sx:{py:.5}}),label:e.jsx(u,{variant:"body2",sx:{fontSize:"0.9rem"},children:y(a)}),sx:{mx:0,py:.5,"&:hover":{backgroundColor:"action.hover"}}},a))}),e.jsx(de,{sx:{my:2}}),e.jsx(u,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:l("location")}),e.jsxs(pe,{fullWidth:!0,size:"small",sx:{mb:3},children:[e.jsx(fe,{sx:{fontSize:"0.9rem"},children:l("selectDistrict")}),e.jsxs(ge,{value:R,onChange:a=>M(a.target.value),sx:{fontSize:"0.9rem"},children:[e.jsx(B,{value:"",children:e.jsx("em",{children:l("allDistricts")})}),H.map(a=>e.jsx(B,{value:a,children:y(a)},a))]})]}),e.jsx(de,{sx:{my:2}}),e.jsx(Ce,{control:e.jsx(be,{checked:S,onChange:a=>F(a.target.checked),size:"small"}),label:e.jsx(u,{variant:"body2",sx:{fontSize:"0.9rem"},children:l("showOnlyOrganic")}),sx:{mx:0}}),e.jsx(de,{sx:{my:3}}),e.jsx(C,{fullWidth:!0,variant:"outlined",size:"medium",sx:{borderRadius:2,textTransform:"none",fontSize:"0.9rem",py:1},onClick:()=>{W([]),F(!1),s(""),M("")},children:l("clearAllFilters")})]})]})})]})},Er=Object.freeze(Object.defineProperty({__proto__:null,default:Fr},Symbol.toStringTag,{value:"Module"}));function zr(){const t=localStorage.getItem("token");if(t)try{const r=JSON.parse(atob(t.split(".")[1]));return r.userId||r._id}catch{return}}function Je(t){switch(t){case"farmer":return"/images/farmerProfilePlaceholder.png";case"vendor":return"/images/vendorProfilePlaceholder.png";default:return"/images/userProfilePlaceholder.png"}}function $r({product:t,t:r,navigate:i,isLoading:c,setIsLoading:s,error:o,setError:x,setProduct:p}){var Ee,Be,Le;const{user:m}=Ut(),[f,b]=n.useState(!1),[l,$]=n.useState(!1),[oe,R]=n.useState(""),[M,re]=n.useState([]),[me,k]=n.useState(null),[W,S]=n.useState(!1),[F,h]=n.useState(!1),[w,z]=n.useState(t.minimumOrderQuantity||1),[se,N]=n.useState(!1),[ae,Q]=n.useState(!1),[q,U]=n.useState(w),[T,V]=n.useState(t.price),[H,X]=n.useState(""),[O,ee]=n.useState(!0),[G,y]=n.useState(""),[A,a]=n.useState(!0),[g,te]=n.useState(""),E=zr(),Se=!!E,nt=E&&((Ee=t.farmer)==null?void 0:Ee._id)===E,ot=m==null?void 0:m.role;n.useEffect(()=>{let j=!0;const xe=new AbortController,le=async()=>{var _e,Me,Ne;try{if(!(((_e=t==null?void 0:t.farmerId)==null?void 0:_e.toString())&&((Me=t==null?void 0:t._id)==null?void 0:Me.toString())&&((Ne=m==null?void 0:m._id)==null?void 0:Ne.toString())))return;h(!0);const{exists:mt}=await He(t.farmerId.toString(),t._id.toString(),Date.now());j&&S(!!mt)}catch(Ue){console.error("Status check error:",Ue),j&&S(!1)}finally{j&&h(!1)}},he=setTimeout(()=>{t!=null&&t.farmerId&&(t!=null&&t._id)&&le()},500);return()=>{j=!1,xe.abort(),clearTimeout(he)}},[m==null?void 0:m._id,(Be=t==null?void 0:t.farmerId)==null?void 0:Be.toString(),(Le=t==null?void 0:t._id)==null?void 0:Le.toString()]);const lt=ot==="vendor"?r("productDetails.vendorQuota","Vendors can request up to 5 phone numbers per day."):r("productDetails.userQuota","Users can send up to 2 contact requests per day."),Ae=w>=(t.minimumOrderQuantity||1)&&w<=t.availableQuantity,ct=async()=>{var j,xe;try{if(h(!0),(await Ft(t._id,w)).existingRequestId){S(!0),J.info("Contact request already exists");return}const he=await He(t.farmerId,t._id);S(he),J.success(he?"Request verified successfully":"Request submitted successfully")}catch(le){S(!1),J.error(((xe=(j=le.response)==null?void 0:j.data)==null?void 0:xe.message)||le.message||"Request failed")}finally{h(!1)}},dt=async()=>{try{await zt(t._id,{finalQuantity:q,finalPrice:T,didBuy:O,feedback:H}),J.success("Confirmation submitted!"),N(!1)}catch{J.error("Failed to submit confirmation")}},ut=async()=>{try{await $t(t._id,{finalQuantity:q,finalPrice:T,didSell:A,feedback:G}),J.success("Confirmation submitted!"),Q(!1)}catch{J.error("Failed to submit confirmation")}};return Se?nt?null:e.jsxs(d,{sx:{mt:2},children:[e.jsx(C,{variant:"contained",color:"primary",disabled:!!(W||F||!t),onClick:()=>b(!0),startIcon:W?e.jsx(Mt,{}):void 0,children:F?e.jsx(Qe,{size:24}):r(W?"contactRequested":"requestContact")}),e.jsxs(De,{open:f,onClose:()=>b(!1),children:[e.jsx(Ie,{children:r("productDetails.confirmRequestTitle","Confirm Request")}),e.jsxs(ke,{children:[e.jsxs(u,{gutterBottom:!0,children:[r("productDetails.confirmRequestMsg","Are you sure you want to send a contact request for this product?"),e.jsx("br",{}),e.jsxs("b",{children:[r("productDetails.minimumOrderQuantity"),": ",t.minimumOrderQuantity," ",t.unit]}),e.jsx("br",{}),lt]}),e.jsx(Y,{label:r("productDetails.requiredQuantity","Required Quantity"),type:"number",value:w,onChange:j=>z(Number(j.target.value)),inputProps:{min:t.minimumOrderQuantity||1,max:t.availableQuantity},fullWidth:!0,sx:{mt:2},helperText:w<(t.minimumOrderQuantity||1)?r("productDetails.requiredQuantityValidation",`Minimum order is ${t.minimumOrderQuantity} ${t.unit}`):w>t.availableQuantity?r("productDetails.maxQuantityValidation",`Cannot order more than available (${t.availableQuantity} ${t.unit})`):"",error:w<(t.minimumOrderQuantity||1)||w>t.availableQuantity}),oe&&e.jsx(u,{color:"error",variant:"body2",children:oe})]}),e.jsxs(Pe,{children:[e.jsx(C,{onClick:()=>b(!1),disabled:l,children:r("productDetails.cancel","Cancel")}),e.jsx(C,{onClick:async()=>{if(!Ae){R(w<(t.minimumOrderQuantity||1)?r("productDetails.requiredQuantityValidation",`Minimum order is ${t.minimumOrderQuantity} ${t.unit}`):r("productDetails.maxQuantityValidation",`Cannot order more than available (${t.availableQuantity} ${t.unit})`));return}R(""),await ct(),b(!1)},color:"primary",disabled:l||!Ae,children:l?r("productDetails.requesting","Requesting..."):r("productDetails.confirm","Confirm")})]})]}),e.jsxs(De,{open:se,onClose:()=>N(!1),children:[e.jsx(Ie,{children:r("productDetails.userConfirmTitle","Confirm Purchase")}),e.jsxs(ke,{children:[e.jsx(Y,{label:r("productDetails.finalQuantity","Final Bought Quantity"),type:"number",value:q,onChange:j=>U(Number(j.target.value)),fullWidth:!0,sx:{mt:2}}),e.jsx(Y,{label:r("productDetails.finalPrice","Final Price"),type:"number",value:T,onChange:j=>V(Number(j.target.value)),fullWidth:!0,sx:{mt:2}}),e.jsx(Y,{label:r("productDetails.feedback","Feedback (optional)"),value:H,onChange:j=>X(j.target.value),fullWidth:!0,sx:{mt:2}}),e.jsxs(d,{sx:{mt:2},children:[e.jsx(C,{variant:O?"contained":"outlined",color:"success",onClick:()=>ee(!0),sx:{mr:1},children:r("productDetails.yesBought","Yes, I bought")}),e.jsx(C,{variant:O?"outlined":"contained",color:"error",onClick:()=>ee(!1),children:r("productDetails.noBought","No, I did not buy")})]})]}),e.jsxs(Pe,{children:[e.jsx(C,{onClick:()=>N(!1),children:r("productDetails.cancel","Cancel")}),e.jsx(C,{onClick:dt,color:"primary",children:r("productDetails.submit","Submit")})]})]}),e.jsxs(De,{open:ae,onClose:()=>Q(!1),children:[e.jsx(Ie,{children:r("productDetails.farmerConfirmTitle","Confirm Sale")}),e.jsxs(ke,{children:[e.jsx(Y,{label:r("productDetails.finalQuantity","Final Sold Quantity"),type:"number",value:q,onChange:j=>U(Number(j.target.value)),fullWidth:!0,sx:{mt:2}}),e.jsx(Y,{label:r("productDetails.finalPrice","Final Price"),type:"number",value:T,onChange:j=>V(Number(j.target.value)),fullWidth:!0,sx:{mt:2}}),e.jsx(Y,{label:r("productDetails.feedback","Feedback (optional)"),value:G,onChange:j=>y(j.target.value),fullWidth:!0,sx:{mt:2}}),e.jsxs(d,{sx:{mt:2},children:[e.jsx(C,{variant:A?"contained":"outlined",color:"success",onClick:()=>a(!0),sx:{mr:1},children:r("productDetails.yesSold","Yes, I sold")}),e.jsx(C,{variant:A?"outlined":"contained",color:"error",onClick:()=>a(!1),children:r("productDetails.noSold","No, I did not sell")})]})]}),e.jsxs(Pe,{children:[e.jsx(C,{onClick:()=>Q(!1),children:r("productDetails.cancel","Cancel")}),e.jsx(C,{onClick:ut,color:"primary",children:r("productDetails.submit","Submit")})]})]}),g&&e.jsx(d,{sx:{mt:2},children:e.jsx(I,{label:r(`productDetails.status.${g}`,g),color:g==="completed"?"success":g==="disputed"?"error":g==="pending"?"warning":"default"})})]}):e.jsx(d,{sx:{mt:2},children:e.jsx(C,{variant:"outlined",color:"primary",onClick:()=>i("/login"),children:r("productDetails.loginToRequestPhone","Login to request phone number")})})}function Fe(t){const{children:r,value:i,index:c,...s}=t;return e.jsx("div",{role:"tabpanel",hidden:i!==c,id:`simple-tabpanel-${c}`,"aria-labelledby":`simple-tab-${c}`,...s,children:i===c&&e.jsx(d,{sx:{pt:3},children:r})})}const Wr=()=>{var se,N,ae,Q,q,U,T,V,H,X,O,ee;const{id:t}=Ct(),r=Ke(),i=Ze(),c=ze(i.breakpoints.down("sm")),[s,o]=n.useState(null),[x,p]=n.useState(!0),[m,f]=n.useState(null),[b,l]=n.useState([]),[$,oe]=n.useState(null),[R,M]=n.useState(!1),[re,me]=n.useState(null),[k,W]=n.useState(0),[S,F]=n.useState(0),{t:h}=tt();n.useEffect(()=>{t&&(async()=>{try{p(!0),f(null),console.log("Fetching product with ID:",t);const y=await et.get(`/products/${t}`);console.log("Product response:",y.data);const A=y.data;A.farmerId=A.farmer._id,o(A)}catch(y){console.error("Error fetching product:",y),f("Failed to load product details. Please try again later."),J.error("Failed to load product details")}finally{p(!1)}})()},[t]);const w=(G,y)=>{F(y)},z={calories:0,protein:"Not specified",carbs:"Not specified",fat:"Not specified",fiber:"Not specified",vitamins:"Not specified"};return x?e.jsx(ne,{maxWidth:"lg",sx:{py:4,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:e.jsx(Qe,{size:60})}):m||!s?e.jsx(ne,{maxWidth:"lg",sx:{py:4,textAlign:"center"},children:e.jsx(u,{variant:"h5",color:"error",children:m||"Product not found"})}):e.jsxs(ne,{maxWidth:"xl",children:[e.jsx(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,mt:2,gap:2},children:e.jsx(Xe,{onClick:()=>r(-1),sx:{border:`1px solid ${i.palette.divider}`,borderRadius:"50%","&:hover":{backgroundColor:i.palette.action.hover,borderColor:i.palette.primary.main},width:40,height:40},children:e.jsx(Et,{fontSize:"small"})})}),e.jsxs(v,{container:!0,spacing:4,children:[e.jsxs(v,{item:!0,xs:12,md:6,children:[e.jsx(d,{sx:{mb:2},children:e.jsx("img",{src:s.images[k],alt:s.name,style:{width:"100%",height:"400px",objectFit:"cover",borderRadius:"8px"}})}),e.jsx(d,{sx:{display:"flex",gap:1},children:s.images.map((G,y)=>e.jsx(d,{sx:{width:"80px",height:"80px",borderRadius:"4px",overflow:"hidden",border:y===k?`2px solid ${i.palette.primary.main}`:"2px solid transparent",cursor:"pointer"},onClick:()=>W(y),children:e.jsx("img",{src:G,alt:`${s.name} ${y+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},y))})]}),e.jsx(v,{item:!0,xs:12,md:6,children:e.jsxs(d,{children:[e.jsx(u,{variant:"h4",component:"h1",gutterBottom:!0,fontWeight:"600",children:s.name}),s.isOrganic&&e.jsx(I,{label:h("productDetails.isOrganic"),color:"secondary",size:"small",sx:{mb:2}}),e.jsxs(u,{variant:"h5",color:"primary",fontWeight:"bold",sx:{mb:2},children:["₹",s.price,"/",s.unit]}),e.jsx(u,{variant:"body1",sx:{mb:3},children:s.description}),e.jsxs(d,{sx:{display:"flex",alignItems:"center",mb:3,p:2,backgroundColor:"background.paper",borderRadius:1,boxShadow:1},children:[e.jsx(d,{sx:{mr:2},children:e.jsx(Ve,{src:s.farmer.profileImage&&typeof s.farmer.profileImage=="object"&&s.farmer.profileImage.data&&s.farmer.profileImage.contentType?`data:${s.farmer.profileImage.contentType};base64,${s.farmer.profileImage.data}`:typeof s.farmer.profileImage=="string"&&s.farmer.profileImage.trim()!==""&&s.farmer.profileImage.startsWith("data:image")?s.farmer.profileImage:Je("farmer"),sx:{width:56,height:56}})}),e.jsx(d,{children:e.jsxs(u,{variant:"subtitle1",fontWeight:"bold",children:[h("productDetails.soldBy")," ",s.farmer.name]})})]}),e.jsxs(v,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(v,{item:!0,xs:6,children:e.jsxs(d,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Bt,{color:"primary",fontSize:"small",sx:{mr:1}}),e.jsxs(d,{children:[e.jsx(u,{variant:"caption",color:"text.secondary",children:h("productDetails.harvestDate")}),e.jsx(u,{variant:"body2",children:new Date(s.harvestDate).toLocaleDateString()})]})]})}),e.jsx(v,{item:!0,xs:6,children:e.jsxs(d,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ye,{color:"primary",fontSize:"small",sx:{mr:1}}),e.jsxs(d,{children:[e.jsx(u,{variant:"caption",color:"text.secondary",children:h("productDetails.productLocation")}),e.jsxs(u,{variant:"body2",children:[(se=s.location)==null?void 0:se.district,", ",(N=s.location)==null?void 0:N.state]})]})]})}),e.jsx(v,{item:!0,xs:6,children:e.jsxs(d,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Lt,{color:"primary",fontSize:"small",sx:{mr:1}}),e.jsxs(d,{children:[e.jsx(u,{variant:"caption",color:"text.secondary",children:h("productDetails.availableQuantity")}),e.jsxs(u,{variant:"body2",children:[s.availableQuantity," ",s.unit]})]})]})}),e.jsx(v,{item:!0,xs:6,children:e.jsxs(d,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(_t,{color:"primary",fontSize:"small",sx:{mr:1}}),e.jsxs(d,{children:[e.jsx(u,{variant:"caption",color:"text.secondary",children:h("productDetails.minimumOrderQuantity")}),e.jsx(u,{variant:"body2",children:s.minimumOrderQuantity!==null&&s.minimumOrderQuantity!==void 0?`${s.minimumOrderQuantity} ${s.unit}`:h("productDetails.notSet")})]})]})})]}),e.jsx(de,{sx:{mb:3}}),e.jsx(d,{sx:{display:"flex",gap:2},children:e.jsx(C,{variant:"contained",color:"primary",size:"large",sx:{flexGrow:1,py:1.5},onClick:()=>F(2),children:h("productDetails.contactSeller")})})]})}),e.jsx(v,{item:!0,xs:12,children:e.jsx(d,{sx:{mt:6},children:e.jsxs($e,{sx:{boxShadow:1},children:[e.jsxs(wt,{value:S,onChange:w,"aria-label":"product details tabs",variant:c?"scrollable":"standard",allowScrollButtonsMobile:!0,sx:{"& .MuiTabs-indicator":{backgroundColor:i.palette.primary.main},"& .MuiTab-root":{fontSize:c?"0.7rem":"0.875rem",minWidth:"unset",padding:c?"6px 12px":"12px 16px",whiteSpace:"nowrap"}},children:[e.jsx(we,{label:e.jsx(d,{component:"span",sx:{minWidth:80},children:h("productDetails.productDetails")}),id:"tab-0","aria-controls":"tabpanel-0"}),e.jsx(we,{label:e.jsx(d,{component:"span",sx:{minWidth:80},children:h("productDetails.nutritionalInfo")}),id:"tab-1","aria-controls":"tabpanel-1"}),e.jsx(we,{label:e.jsx(d,{component:"span",sx:{minWidth:60},children:h("productDetails.sellerInfo")}),id:"tab-2","aria-controls":"tabpanel-2"})]}),e.jsxs(d,{sx:{p:3},children:[e.jsxs(Fe,{value:S,index:0,children:[e.jsx(u,{variant:"h6",gutterBottom:!0,children:h("productDetails.aboutThisProduct")}),e.jsx(u,{variant:"body1",paragraph:!0,children:s.description}),e.jsx(u,{variant:"h6",gutterBottom:!0,children:h("productDetails.keyFeatures")}),e.jsxs(d,{component:"ul",sx:{pl:2},children:[e.jsx(d,{component:"li",sx:{mb:1},children:e.jsxs(u,{variant:"body1",children:[h("productDetails.freshlyHarvested")," ",new Date(s.harvestDate).toLocaleDateString()]})}),s.isOrganic&&e.jsx(d,{component:"li",sx:{mb:1},children:e.jsx(u,{variant:"body1",children:h("productDetails.organicallyGrown")})}),e.jsx(d,{component:"li",sx:{mb:1},children:e.jsx(u,{variant:"body1",children:h("productDetails.directlySourced")})})]})]}),e.jsxs(Fe,{value:S,index:1,children:[e.jsx(u,{variant:"h6",gutterBottom:!0,children:h("productDetails.nutritionalInformation")}),e.jsx(Dt,{children:e.jsx(It,{children:e.jsxs(kt,{children:[e.jsxs(ie,{children:[e.jsx(P,{component:"th",scope:"row",children:h("productDetails.nutrition.calories")}),e.jsxs(P,{children:[((ae=s==null?void 0:s.nutritionalInfo)==null?void 0:ae.calories)??z.calories," kcal"]})]}),e.jsxs(ie,{children:[e.jsx(P,{component:"th",scope:"row",children:h("productDetails.nutrition.protein")}),e.jsx(P,{children:((Q=s==null?void 0:s.nutritionalInfo)==null?void 0:Q.protein)??z.protein})]}),e.jsxs(ie,{children:[e.jsx(P,{component:"th",scope:"row",children:h("productDetails.nutrition.carbs")}),e.jsx(P,{children:((q=s==null?void 0:s.nutritionalInfo)==null?void 0:q.carbs)??z.carbs})]}),e.jsxs(ie,{children:[e.jsx(P,{component:"th",scope:"row",children:h("productDetails.nutrition.fat")}),e.jsx(P,{children:((U=s==null?void 0:s.nutritionalInfo)==null?void 0:U.fat)??z.fat})]}),e.jsxs(ie,{children:[e.jsx(P,{component:"th",scope:"row",children:h("productDetails.nutrition.fiber")}),e.jsx(P,{children:((T=s==null?void 0:s.nutritionalInfo)==null?void 0:T.fiber)??z.fiber})]}),e.jsxs(ie,{children:[e.jsx(P,{component:"th",scope:"row",children:h("productDetails.nutrition.vitamins")}),e.jsx(P,{children:((V=s==null?void 0:s.nutritionalInfo)==null?void 0:V.vitamins)??z.vitamins})]})]})})})]}),e.jsxs(Fe,{value:S,index:2,children:[e.jsxs(d,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(Ve,{src:s.farmer.profileImage&&typeof s.farmer.profileImage=="object"&&s.farmer.profileImage.data&&s.farmer.profileImage.contentType?`data:${s.farmer.profileImage.contentType};base64,${s.farmer.profileImage.data}`:typeof s.farmer.profileImage=="string"&&s.farmer.profileImage.trim()!==""&&s.farmer.profileImage.startsWith("data:image")?s.farmer.profileImage:Je("farmer"),sx:{width:80,height:80,mr:3}}),e.jsxs(d,{children:[e.jsx(u,{variant:"h6",gutterBottom:!0,children:s.farmer.name}),e.jsx(u,{variant:"body2",color:"text.secondary",children:h("productDetails.certifiedFarmer")})]})]}),e.jsx(u,{variant:"h6",gutterBottom:!0,children:h("productDetails.farmerLocation")}),e.jsx(d,{sx:{mb:3},children:e.jsxs(d,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(ye,{color:"primary",fontSize:"small",sx:{mr:2}}),e.jsxs(u,{variant:"body1",children:[(X=(H=s.farmer)==null?void 0:H.address)==null?void 0:X.district,", ",(ee=(O=s.farmer)==null?void 0:O.address)==null?void 0:ee.state]})]})}),e.jsx($r,{product:s,t:h,navigate:r,isLoading:R,setIsLoading:M,error:re,setError:me,setProduct:o})]})]})]})})})]})]})},Br=Object.freeze(Object.defineProperty({__proto__:null,default:Wr},Symbol.toStringTag,{value:"Module"}));export{qr as A,Nt as I,Er as M,Br as P,Ht as a,Vt as c,Ar as f,Gt as p};
//# sourceMappingURL=marketplace-azDLA9kT.js.map
