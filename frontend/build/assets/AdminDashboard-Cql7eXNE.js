import{b as k,d as B,e as C,r as o,i as L,j as e,B as n,ag as P,ah as D,l as _,T as r,f as q,P as d,a4 as E,a5 as H,C as I}from"./vendor-BfjQx7as.js";import{h as T,i as W,j as N,k as U}from"./dashboard-D54Ge2h1.js";import{r as F}from"./auth-p7_ywuS4.js";var c={},p;function Y(){if(p)return c;p=1;var t=k();Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=t(F()),h=B();return c.default=(0,l.default)((0,h.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),c}var z=Y();const J=C(z),M=["Users","Products","Logs","Settings"],K=()=>{const[t,l]=o.useState(0),[h,x]=o.useState(!1),[u,m]=o.useState(""),[f,y]=o.useState([]),[j,A]=o.useState([]),[g,S]=o.useState([]),[w,R]=o.useState({}),b=L();return o.useEffect(()=>{m(""),x(!0),(async()=>{var i,v;try{if(t===0){const a=await T();y(a.data||[])}else if(t===1){const a=await W();A(a.data||[])}else if(t===2){const a=await N();S(a.data||[])}else if(t===3){const a=await U();R(a.data||{})}}catch(a){m(((v=(i=a==null?void 0:a.response)==null?void 0:i.data)==null?void 0:v.message)||a.message||"Failed to fetch data")}finally{x(!1)}})()},[t]),e.jsxs(n,{sx:{minHeight:"100vh",bgcolor:"#f5f6fa"},children:[e.jsx(P,{position:"static",color:"primary",sx:{mb:2},children:e.jsxs(D,{children:[e.jsx(_,{edge:"start",color:"inherit",onClick:()=>b("/"),children:e.jsx(J,{})}),e.jsx(r,{variant:"h6",sx:{flexGrow:1,textAlign:"center",fontWeight:"bold"},children:"Admin Dashboard"}),e.jsx(q,{color:"inherit",onClick:()=>{localStorage.removeItem("token"),b("/admin")},children:"Logout"})]})}),e.jsxs(d,{sx:{maxWidth:600,mx:"auto",mt:2,borderRadius:3,p:2},children:[e.jsx(E,{value:t,onChange:(s,i)=>l(i),variant:"fullWidth",indicatorColor:"primary",textColor:"primary",children:M.map((s,i)=>e.jsx(H,{label:s},s))}),e.jsx(n,{sx:{mt:3},children:h?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:e.jsx(I,{})}):u?e.jsx(r,{color:"error",align:"center",children:u}):e.jsxs(e.Fragment,{children:[t===0&&e.jsxs(n,{children:[e.jsx(r,{variant:"h6",mb:2,children:"All Users"}),f.length===0?e.jsx(r,{children:"No users found."}):e.jsx(n,{sx:{maxHeight:400,overflowY:"auto"},children:f.map(s=>e.jsxs(d,{sx:{p:2,mb:1,borderRadius:2},children:[e.jsxs(r,{fontWeight:"bold",children:[s.name," (",s.role,")"]}),e.jsxs(r,{variant:"body2",children:["Email: ",s.email]}),e.jsxs(r,{variant:"body2",children:["Phone: ",s.phone]})]},s._id))})]}),t===1&&e.jsxs(n,{children:[e.jsx(r,{variant:"h6",mb:2,children:"All Products"}),j.length===0?e.jsx(r,{children:"No products found."}):e.jsx(n,{sx:{maxHeight:400,overflowY:"auto"},children:j.map(s=>{var i;return e.jsxs(d,{sx:{p:2,mb:1,borderRadius:2},children:[e.jsx(r,{fontWeight:"bold",children:s.name}),e.jsxs(r,{variant:"body2",children:["Farmer: ",((i=s.farmer)==null?void 0:i.name)||s.farmer]}),e.jsxs(r,{variant:"body2",children:["Price: â‚¹",s.price," / ",s.unit]}),e.jsxs(r,{variant:"body2",children:["Available: ",s.availableQuantity]})]},s._id)})})]}),t===2&&e.jsxs(n,{children:[e.jsx(r,{variant:"h6",mb:2,children:"Activity Logs"}),g.length===0?e.jsx(r,{children:"No logs found."}):e.jsx(n,{sx:{maxHeight:400,overflowY:"auto"},children:g.map((s,i)=>e.jsxs(d,{sx:{p:2,mb:1,borderRadius:2},children:[e.jsx(r,{fontWeight:"bold",children:s.action}),e.jsxs(r,{variant:"body2",children:["User: ",s.user]}),e.jsxs(r,{variant:"body2",children:["Resource: ",s.resource]}),e.jsxs(r,{variant:"body2",children:["At: ",new Date(s.timestamp||s.createdAt).toLocaleString()]})]},i))})]}),t===3&&e.jsxs(n,{children:[e.jsx(r,{variant:"h6",mb:2,children:"Settings"}),e.jsx("pre",{style:{fontSize:14,background:"#f8f8f8",padding:8,borderRadius:4},children:JSON.stringify(w,null,2)})]})]})})]})]})};export{K as default};
//# sourceMappingURL=AdminDashboard-Cql7eXNE.js.map
